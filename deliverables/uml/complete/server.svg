<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1383px" preserveAspectRatio="none" style="width:584px;height:1383px;" version="1.1" viewBox="0 0 584 1383" width="584px" zoomAndPan="magnify"><defs><filter height="300%" id="f1g2i73ckx9brm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="207" x="179.5" y="18.6855">SERVER's Class Diagram</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="0" x="285.5" y="41.3262"/><!--MD5=[432dd831305d7709bed0fe1447e3cfc7]
cluster it.polimi.ingsw--><polygon fill="#FFFFFF" filter="url(#f1g2i73ckx9brm)" points="16,184.2813,122,184.2813,129,207.8906,420,207.8906,420,1316.2813,16,1316.2813,16,184.2813" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="16" x2="129" y1="207.8906" y2="207.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="20" y="200.8145">it.polimi.ingsw</text><!--MD5=[1051524154ce11174f76d97393e7fa59]
cluster it.polimi.ingsw.network--><polygon fill="#FFFFFF" filter="url(#f1g2i73ckx9brm)" points="40,228.2813,103,228.2813,110,251.8906,396,251.8906,396,1292.2813,40,1292.2813,40,228.2813" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="40" x2="110" y1="251.8906" y2="251.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="44" y="244.8145">network</text><!--MD5=[f41b0b3ca4be87aefc732ab580a26293]
cluster it.polimi.ingsw.network.server--><polygon fill="#FFFFFF" filter="url(#f1g2i73ckx9brm)" points="64,272.2813,117,272.2813,124,295.8906,372,295.8906,372,1164.2813,64,1164.2813,64,272.2813" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="64" x2="124" y1="295.8906" y2="295.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47" x="68" y="288.8145">server</text><!--MD5=[aa8f7b917213fcc1c2766e2d59b49067]
cluster java.lang--><polygon fill="#FFFFFF" filter="url(#f1g2i73ckx9brm)" points="444,286.2813,513,286.2813,520,309.8906,562,309.8906,562,386.2813,444,386.2813,444,286.2813" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="444" x2="520" y1="309.8906" y2="309.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63" x="448" y="302.8145">java.lang</text><!--MD5=[7db3c59d38ae5b37b484eb2df9368145]
cluster java.util--><polygon fill="#FFFFFF" filter="url(#f1g2i73ckx9brm)" points="198,51.2813,259,51.2813,266,74.8906,322,74.8906,322,151.2813,198,151.2813,198,51.2813" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="198" x2="266" y1="74.8906" y2="74.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="202" y="67.8145">java.util</text><!--MD5=[1e8c947f8210394413475712e15072ae]
class it.polimi.ingsw.network.ICommandReceiver--><rect fill="#FEFECE" filter="url(#f1g2i73ckx9brm)" height="48" id="it.polimi.ingsw.network.ICommandReceiver" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="147" y="1228.2813"/><ellipse cx="162" cy="1244.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M164.7656,1240.1563 Q164.9219,1239.9375 165.1094,1239.8281 Q165.2969,1239.7188 165.5156,1239.7188 Q165.8906,1239.7188 166.125,1239.9844 Q166.3594,1240.2344 166.3594,1240.8438 L166.3594,1242.2969 Q166.3594,1242.9063 166.125,1243.1719 Q165.8906,1243.4375 165.5156,1243.4375 Q165.1719,1243.4375 164.9688,1243.2344 Q164.7656,1243.0469 164.6563,1242.5313 Q164.6094,1242.1719 164.4219,1241.9844 Q164.0938,1241.6094 163.4844,1241.3906 Q162.875,1241.1719 162.25,1241.1719 Q161.4844,1241.1719 160.8438,1241.5 Q160.2188,1241.8281 159.7188,1242.5781 Q159.2344,1243.3281 159.2344,1244.3594 L159.2344,1245.4531 Q159.2344,1246.6875 160.125,1247.5156 Q161.0156,1248.3281 162.6094,1248.3281 Q163.5469,1248.3281 164.2031,1248.0781 Q164.5938,1247.9219 165.0156,1247.4844 Q165.2813,1247.2188 165.4219,1247.1406 Q165.5781,1247.0625 165.7813,1247.0625 Q166.1094,1247.0625 166.3594,1247.3281 Q166.625,1247.5781 166.625,1247.9219 Q166.625,1248.2656 166.2813,1248.6719 Q165.7813,1249.25 164.9844,1249.5781 Q163.9063,1250.0313 162.6094,1250.0313 Q161.0938,1250.0313 159.8906,1249.4063 Q158.9063,1248.9063 158.2188,1247.8438 Q157.5313,1246.7656 157.5313,1245.4844 L157.5313,1244.3281 Q157.5313,1243 158.1406,1241.8594 Q158.7656,1240.7031 159.8594,1240.0938 Q160.9531,1239.4688 162.1875,1239.4688 Q162.9219,1239.4688 163.5625,1239.6406 Q164.2188,1239.7969 164.7656,1240.1563 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="176" y="1249.1914">ICommandReceiver</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="148" x2="288" y1="1260.2813" y2="1260.2813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="148" x2="288" y1="1268.2813" y2="1268.2813"/><!--MD5=[98daa07b417276ad885edd88df475b34]
class it.polimi.ingsw.network.server.ClientHandler--><rect fill="#FEFECE" filter="url(#f1g2i73ckx9brm)" height="269.375" id="it.polimi.ingsw.network.server.ClientHandler" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="187.5" y="462.2813"/><ellipse cx="219.15" cy="478.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M221.9156,474.1563 Q222.0719,473.9375 222.2594,473.8281 Q222.4469,473.7188 222.6656,473.7188 Q223.0406,473.7188 223.275,473.9844 Q223.5094,474.2344 223.5094,474.8438 L223.5094,476.2969 Q223.5094,476.9063 223.275,477.1719 Q223.0406,477.4375 222.6656,477.4375 Q222.3219,477.4375 222.1188,477.2344 Q221.9156,477.0469 221.8063,476.5313 Q221.7594,476.1719 221.5719,475.9844 Q221.2438,475.6094 220.6344,475.3906 Q220.025,475.1719 219.4,475.1719 Q218.6344,475.1719 217.9938,475.5 Q217.3688,475.8281 216.8688,476.5781 Q216.3844,477.3281 216.3844,478.3594 L216.3844,479.4531 Q216.3844,480.6875 217.275,481.5156 Q218.1656,482.3281 219.7594,482.3281 Q220.6969,482.3281 221.3531,482.0781 Q221.7438,481.9219 222.1656,481.4844 Q222.4313,481.2188 222.5719,481.1406 Q222.7281,481.0625 222.9313,481.0625 Q223.2594,481.0625 223.5094,481.3281 Q223.775,481.5781 223.775,481.9219 Q223.775,482.2656 223.4313,482.6719 Q222.9313,483.25 222.1344,483.5781 Q221.0563,484.0313 219.7594,484.0313 Q218.2438,484.0313 217.0406,483.4063 Q216.0563,482.9063 215.3688,481.8438 Q214.6813,480.7656 214.6813,479.4844 L214.6813,478.3281 Q214.6813,477 215.2906,475.8594 Q215.9156,474.7031 217.0094,474.0938 Q218.1031,473.4688 219.3375,473.4688 Q220.0719,473.4688 220.7125,473.6406 Q221.3688,473.7969 221.9156,474.1563 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="236.85" y="483.1914">ClientHandler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="188.5" x2="331.5" y1="494.2813" y2="494.2813"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="195.5" y="502.2813"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="119" x="207.5" y="509.7002">DISCONNECT_TIMER : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="195.5" y="516.1172"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="207.5" y="523.5361">c_socket : Socket</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="195.5" y="529.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="207.5" y="537.3721">connected : boolean</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="195.5" y="543.7891"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="207.5" y="551.208">disconnectTimer : Timer</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="195.5" y="557.625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="207.5" y="565.0439">id : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="195.5" y="571.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="207.5" y="578.8799">in : BufferedReader</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="195.5" y="585.2969"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="207.5" y="592.7158">lckSend : Object</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="195.5" y="599.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="207.5" y="606.5518">out : PrintWriter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="188.5" x2="331.5" y1="612.9688" y2="612.9688"/><ellipse cx="198.5" cy="623.9688" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="207.5" y="628.3877">Deserialize()</text><ellipse cx="198.5" cy="637.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="207.5" y="642.2236">disconnect()</text><ellipse cx="198.5" cy="651.6406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="31" x="207.5" y="656.0596">getId()</text><ellipse cx="198.5" cy="665.4766" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="207.5" y="669.8955">run()</text><ellipse cx="198.5" cy="679.3125" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="207.5" y="683.7314">sendMessage()</text><polygon fill="#4177AF" points="198.5,689.1484,194.5,695.1484,202.5,695.1484" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="207.5" y="697.5674">ClientHandler()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="195.5" y="703.9844"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="207.5" y="711.4033">handleCommand()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="195.5" y="717.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="207.5" y="725.2393">rescheduleTimer()</text><!--MD5=[b0ef5c294bf2e72cef896b9155e04263]
class it.polimi.ingsw.network.server.DisconnectTask--><rect fill="#FEFECE" filter="url(#f1g2i73ckx9brm)" height="75.6719" id="it.polimi.ingsw.network.server.DisconnectTask" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="199.5" y="308.2813"/><ellipse cx="214.5" cy="324.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M217.2656,320.1563 Q217.4219,319.9375 217.6094,319.8281 Q217.7969,319.7188 218.0156,319.7188 Q218.3906,319.7188 218.625,319.9844 Q218.8594,320.2344 218.8594,320.8438 L218.8594,322.2969 Q218.8594,322.9063 218.625,323.1719 Q218.3906,323.4375 218.0156,323.4375 Q217.6719,323.4375 217.4688,323.2344 Q217.2656,323.0469 217.1563,322.5313 Q217.1094,322.1719 216.9219,321.9844 Q216.5938,321.6094 215.9844,321.3906 Q215.375,321.1719 214.75,321.1719 Q213.9844,321.1719 213.3438,321.5 Q212.7188,321.8281 212.2188,322.5781 Q211.7344,323.3281 211.7344,324.3594 L211.7344,325.4531 Q211.7344,326.6875 212.625,327.5156 Q213.5156,328.3281 215.1094,328.3281 Q216.0469,328.3281 216.7031,328.0781 Q217.0938,327.9219 217.5156,327.4844 Q217.7813,327.2188 217.9219,327.1406 Q218.0781,327.0625 218.2813,327.0625 Q218.6094,327.0625 218.8594,327.3281 Q219.125,327.5781 219.125,327.9219 Q219.125,328.2656 218.7813,328.6719 Q218.2813,329.25 217.4844,329.5781 Q216.4063,330.0313 215.1094,330.0313 Q213.5938,330.0313 212.3906,329.4063 Q211.4063,328.9063 210.7188,327.8438 Q210.0313,326.7656 210.0313,325.4844 L210.0313,324.3281 Q210.0313,323 210.6406,321.8594 Q211.2656,320.7031 212.3594,320.0938 Q213.4531,319.4688 214.6875,319.4688 Q215.4219,319.4688 216.0625,319.6406 Q216.7188,319.7969 217.2656,320.1563 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="89" x="228.5" y="329.1914">DisconnectTask</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="200.5" x2="319.5" y1="340.2813" y2="340.2813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="200.5" x2="319.5" y1="348.2813" y2="348.2813"/><ellipse cx="210.5" cy="359.2813" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="219.5" y="363.7002">run()</text><polygon fill="#4177AF" points="210.5,369.1172,206.5,375.1172,214.5,375.1172" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="219.5" y="377.5361">DisconnectTask()</text><!--MD5=[8db66b2ba4d0bc618102cf170189eb0d]
class it.polimi.ingsw.network.server.Server--><rect fill="#FEFECE" filter="url(#f1g2i73ckx9brm)" height="338.5547" id="it.polimi.ingsw.network.server.Server" style="stroke: #A80036; stroke-width: 1.5;" width="276" x="80" y="809.2813"/><ellipse cx="196.25" cy="825.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M199.0156,821.1563 Q199.1719,820.9375 199.3594,820.8281 Q199.5469,820.7188 199.7656,820.7188 Q200.1406,820.7188 200.375,820.9844 Q200.6094,821.2344 200.6094,821.8438 L200.6094,823.2969 Q200.6094,823.9063 200.375,824.1719 Q200.1406,824.4375 199.7656,824.4375 Q199.4219,824.4375 199.2188,824.2344 Q199.0156,824.0469 198.9063,823.5313 Q198.8594,823.1719 198.6719,822.9844 Q198.3438,822.6094 197.7344,822.3906 Q197.125,822.1719 196.5,822.1719 Q195.7344,822.1719 195.0938,822.5 Q194.4688,822.8281 193.9688,823.5781 Q193.4844,824.3281 193.4844,825.3594 L193.4844,826.4531 Q193.4844,827.6875 194.375,828.5156 Q195.2656,829.3281 196.8594,829.3281 Q197.7969,829.3281 198.4531,829.0781 Q198.8438,828.9219 199.2656,828.4844 Q199.5313,828.2188 199.6719,828.1406 Q199.8281,828.0625 200.0313,828.0625 Q200.3594,828.0625 200.6094,828.3281 Q200.875,828.5781 200.875,828.9219 Q200.875,829.2656 200.5313,829.6719 Q200.0313,830.25 199.2344,830.5781 Q198.1563,831.0313 196.8594,831.0313 Q195.3438,831.0313 194.1406,830.4063 Q193.1563,829.9063 192.4688,828.8438 Q191.7813,827.7656 191.7813,826.4844 L191.7813,825.3281 Q191.7813,824 192.3906,822.8594 Q193.0156,821.7031 194.1094,821.0938 Q195.2031,820.4688 196.4375,820.4688 Q197.1719,820.4688 197.8125,820.6406 Q198.4688,820.7969 199.0156,821.1563 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="216.75" y="830.1914">Server</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="81" x2="355" y1="841.2813" y2="841.2813"/><ellipse cx="91" cy="852.2813" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="100" x="100" y="856.7002">BROADCAST_ID : int</text><ellipse cx="91" cy="866.1172" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="146" x="100" y="870.5361">DEFAULT_SERVER_PORT : int</text><ellipse cx="91" cy="879.9531" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="76" x="100" y="884.3721">SERVER_ID : int</text><polygon fill="none" points="91,889.7891,87,895.7891,95,895.7891" style="stroke: #1963A0; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="100" y="898.208">listener : ServerSocket</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="88" y="904.625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="100" y="912.0439">last_client_id : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="88" y="918.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="100" y="925.8799">lckController : Object</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="88" y="932.2969"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="100" y="939.7158">pool : ExecutorService</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="88" y="946.1328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="100" y="953.5518">port : int</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="88" y="959.9688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="100" y="967.3877">shouldStop : AtomicBoolean</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="88" y="973.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="250" x="100" y="981.2236">syncClientHandlerMap : Map&lt;Integer, ClientHandler&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="81" x2="355" y1="987.6406" y2="987.6406"/><ellipse cx="91" cy="998.6406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="100" y="1003.0596">Server()</text><ellipse cx="91" cy="1012.4766" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="100" y="1016.8955">getReceiver()</text><ellipse cx="91" cy="1026.3125" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="100" y="1030.7314">removeClient()</text><ellipse cx="91" cy="1040.1484" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="100" y="1044.5674">removeReceiver()</text><ellipse cx="91" cy="1053.9844" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="100" y="1058.4033">send()</text><ellipse cx="91" cy="1067.8203" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="100" y="1072.2393">send()</text><ellipse cx="91" cy="1081.6563" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="100" y="1086.0752">setReceiver()</text><ellipse cx="91" cy="1095.4922" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="100" y="1099.9111">start()</text><ellipse cx="91" cy="1109.3281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="100" y="1113.7471">startInBackground()</text><ellipse cx="91" cy="1123.1641" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="100" y="1127.583">stop()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="88" y="1134"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="100" y="1141.4189">runServerLoop()</text><!--MD5=[8dac795f9edbf65a524ac462449c98fb]
class java.lang.Runnable--><rect fill="#FEFECE" filter="url(#f1g2i73ckx9brm)" height="48" id="java.lang.Runnable" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="460" y="322.2813"/><ellipse cx="475" cy="338.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M477.7656,334.1563 Q477.9219,333.9375 478.1094,333.8281 Q478.2969,333.7188 478.5156,333.7188 Q478.8906,333.7188 479.125,333.9844 Q479.3594,334.2344 479.3594,334.8438 L479.3594,336.2969 Q479.3594,336.9063 479.125,337.1719 Q478.8906,337.4375 478.5156,337.4375 Q478.1719,337.4375 477.9688,337.2344 Q477.7656,337.0469 477.6563,336.5313 Q477.6094,336.1719 477.4219,335.9844 Q477.0938,335.6094 476.4844,335.3906 Q475.875,335.1719 475.25,335.1719 Q474.4844,335.1719 473.8438,335.5 Q473.2188,335.8281 472.7188,336.5781 Q472.2344,337.3281 472.2344,338.3594 L472.2344,339.4531 Q472.2344,340.6875 473.125,341.5156 Q474.0156,342.3281 475.6094,342.3281 Q476.5469,342.3281 477.2031,342.0781 Q477.5938,341.9219 478.0156,341.4844 Q478.2813,341.2188 478.4219,341.1406 Q478.5781,341.0625 478.7813,341.0625 Q479.1094,341.0625 479.3594,341.3281 Q479.625,341.5781 479.625,341.9219 Q479.625,342.2656 479.2813,342.6719 Q478.7813,343.25 477.9844,343.5781 Q476.9063,344.0313 475.6094,344.0313 Q474.0938,344.0313 472.8906,343.4063 Q471.9063,342.9063 471.2188,341.8438 Q470.5313,340.7656 470.5313,339.4844 L470.5313,338.3281 Q470.5313,337 471.1406,335.8594 Q471.7656,334.7031 472.8594,334.0938 Q473.9531,333.4688 475.1875,333.4688 Q475.9219,333.4688 476.5625,333.6406 Q477.2188,333.7969 477.7656,334.1563 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="489" y="343.1914">Runnable</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="461" x2="545" y1="354.2813" y2="354.2813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="461" x2="545" y1="362.2813" y2="362.2813"/><!--MD5=[ad113b661ca3197b37140075903a870b]
class java.util.TimerTask--><rect fill="#FEFECE" filter="url(#f1g2i73ckx9brm)" height="48" id="java.util.TimerTask" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="214.5" y="87.2813"/><ellipse cx="229.5" cy="103.2813" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M232.2656,99.1563 Q232.4219,98.9375 232.6094,98.8281 Q232.7969,98.7188 233.0156,98.7188 Q233.3906,98.7188 233.625,98.9844 Q233.8594,99.2344 233.8594,99.8438 L233.8594,101.2969 Q233.8594,101.9063 233.625,102.1719 Q233.3906,102.4375 233.0156,102.4375 Q232.6719,102.4375 232.4688,102.2344 Q232.2656,102.0469 232.1563,101.5313 Q232.1094,101.1719 231.9219,100.9844 Q231.5938,100.6094 230.9844,100.3906 Q230.375,100.1719 229.75,100.1719 Q228.9844,100.1719 228.3438,100.5 Q227.7188,100.8281 227.2188,101.5781 Q226.7344,102.3281 226.7344,103.3594 L226.7344,104.4531 Q226.7344,105.6875 227.625,106.5156 Q228.5156,107.3281 230.1094,107.3281 Q231.0469,107.3281 231.7031,107.0781 Q232.0938,106.9219 232.5156,106.4844 Q232.7813,106.2188 232.9219,106.1406 Q233.0781,106.0625 233.2813,106.0625 Q233.6094,106.0625 233.8594,106.3281 Q234.125,106.5781 234.125,106.9219 Q234.125,107.2656 233.7813,107.6719 Q233.2813,108.25 232.4844,108.5781 Q231.4063,109.0313 230.1094,109.0313 Q228.5938,109.0313 227.3906,108.4063 Q226.4063,107.9063 225.7188,106.8438 Q225.0313,105.7656 225.0313,104.4844 L225.0313,103.3281 Q225.0313,102 225.6406,100.8594 Q226.2656,99.7031 227.3594,99.0938 Q228.4531,98.4688 229.6875,98.4688 Q230.4219,98.4688 231.0625,98.6406 Q231.7188,98.7969 232.2656,99.1563 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="243.5" y="108.1914">TimerTask</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="215.5" x2="304.5" y1="119.2813" y2="119.2813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="215.5" x2="304.5" y1="127.2813" y2="127.2813"/><!--MD5=[e576da2d62bfc69349a52f2a42421088]
reverse link java.lang.Runnable to it.polimi.ingsw.network.server.ClientHandler--><path d="M465.792,385.3312 C430.496,421.4263 376.487,476.6573 332.655,521.4823 " fill="none" id="java.lang.Runnable&lt;-it.polimi.ingsw.network.server.ClientHandler" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="461.151,380.0653,480.139,370.6593,471.161,389.8533,461.151,380.0653" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[75432936c43d461eb09a402c6fe9ec22]
reverse link it.polimi.ingsw.network.server.ClientHandler to it.polimi.ingsw.network.server.Server--><path d="M243.777,744.5573 C241.438,765.7193 239.016,787.6383 236.634,809.1843 " fill="none" id="it.polimi.ingsw.network.server.ClientHandler&lt;-it.polimi.ingsw.network.server.Server" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="245.222,731.4883,240.5869,737.0124,243.9033,743.4156,248.5384,737.8915,245.222,731.4883" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="242" y="775.7764">server</text><!--MD5=[d4a0b34e4186b66da33bfbc62fbaa012]
reverse link java.util.TimerTask to it.polimi.ingsw.network.server.DisconnectTask--><path d="M260,155.7613 C260,199.6212 260,266.6012 260,308.0712 " fill="none" id="java.util.TimerTask&lt;-it.polimi.ingsw.network.server.DisconnectTask" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="253,155.4713,260,135.4713,267,155.4713,253,155.4713" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[79a1aaa70ed9f3e5142399243e359b09]
reverse link it.polimi.ingsw.network.server.DisconnectTask to it.polimi.ingsw.network.server.ClientHandler--><path d="M260,397.5873 C260,416.5173 260,439.0472 260,462.0123 " fill="none" id="it.polimi.ingsw.network.server.DisconnectTask&lt;-it.polimi.ingsw.network.server.ClientHandler" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="260,384.4843,256,390.4843,260,396.4843,264,390.4843,260,384.4843" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="261" y="428.7764">client_handler</text><!--MD5=[f0f8db40c13965a4103f851a99306696]
reverse link it.polimi.ingsw.network.server.Server to it.polimi.ingsw.network.ICommandReceiver--><path d="M218,1161.7523 C218,1188.0753 218,1211.7663 218,1228.1553 " fill="none" id="it.polimi.ingsw.network.server.Server&lt;-it.polimi.ingsw.network.ICommandReceiver" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="218,1148.6383,214,1154.6383,218,1160.6383,222,1154.6383,218,1148.6383" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="219" y="1194.7764">receiver</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="566" y="1332.6621"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="566" y="1345.2402"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="392" x="174" y="1357.8184">PlantUML diagram generated by SketchIt! (https://bitbucket.org/pmesmeur/sketch.it)</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="394" x="172" y="1370.3965">For more information about this tool, please contact philippe.mesmeur@gmail.com</text><!--MD5=[6fcca632db3424e329ecf8c58275b77a]
@startuml

title __SERVER's Class Diagram__\n

  namespace it.polimi.ingsw {
    namespace network {
      namespace server {
        class it.polimi.ingsw.network.server.ClientHandler {
            {static} - DISCONNECT_TIMER : int
            - c_socket : Socket
            - connected : boolean
            - disconnectTimer : Timer
            - id : int
            - in : BufferedReader
            - lckSend : Object
            - out : PrintWriter
            + Deserialize()
            + disconnect()
            + getId()
            + run()
            + sendMessage()
            ~ ClientHandler()
            - handleCommand()
            - rescheduleTimer()
        }
      }
    }
  }
  

  namespace it.polimi.ingsw {
    namespace network {
      namespace server {
        class it.polimi.ingsw.network.server.DisconnectTask {
            + run()
            ~ DisconnectTask()
        }
      }
    }
  }
  

  namespace it.polimi.ingsw {
    namespace network {
      namespace server {
        class it.polimi.ingsw.network.server.Server {
            {static} + BROADCAST_ID : int
            {static} + DEFAULT_SERVER_PORT : int
            {static} + SERVER_ID : int
            ~ listener : ServerSocket
            - last_client_id : int
            - lckController : Object
            - pool : ExecutorService
            - port : int
            - shouldStop : AtomicBoolean
            - syncClientHandlerMap : Map<Integer, ClientHandler>
            + Server()
            + getReceiver()
            + removeClient()
            + removeReceiver()
            + send()
            + send()
            + setReceiver()
            + start()
            + startInBackground()
            + stop()
            - runServerLoop()
        }
      }
    }
  }
  

  it.polimi.ingsw.network.server.ClientHandler .up.|> java.lang.Runnable
  it.polimi.ingsw.network.server.ClientHandler o- - it.polimi.ingsw.network.server.Server : server
  it.polimi.ingsw.network.server.DisconnectTask -up-|> java.util.TimerTask
  it.polimi.ingsw.network.server.DisconnectTask o- - it.polimi.ingsw.network.server.ClientHandler : client_handler
  it.polimi.ingsw.network.server.Server o- - it.polimi.ingsw.network.ICommandReceiver : receiver


right footer


PlantUML diagram generated by SketchIt! (https://bitbucket.org/pmesmeur/sketch.it)
For more information about this tool, please contact philippe.mesmeur@gmail.com
endfooter

@enduml

PlantUML version 1.2020.14(Sat Jun 20 16:14:34 CEST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: it
Country: IT
--></g></svg>